# 进程、线程、协程

## 进程
进程，是并发执行的程序在执行过程中分配和管理资源的基本单位，每一个进程都有一个自己的地址空间，即进程空间或（虚空间）。
进程至少有 5 种基本状态，它们是：初始态，执行态，等待状态，就绪状态，终止状态。

## 线程
线程，是进程的一部分，一个没有线程的进程可以被看作是单线程的。线程有时又被称为轻权进程或轻量级进程，也是 CPU 调度的一个基本单位。
每个线程拥有自己独立的：
1. 栈区和栈指针（Stack area and stack pointer）
2 .寄存器（Registers）
3. 调度优先级Scheduling properties (such as policy or priority)
4. 信号（阻塞和悬挂）Signals (pending and blocked signals)
5. 普通变量Thread specific data ( automatic variables )

线程是指进程内的一个执行单元,也是进程内的可调度实体。
线程是进程的一个实体,是CPU调度和分派的基本单位,它是比进程更小的能独立运行的基本单位。

与进程的区别:
1. 地址空间:进程内的一个执行单元;进程至少有一个线程;它们共享进程的地址空间;而进程有自己独立的地址空间；
2. 资源拥有:进程是资源分配和拥有的单位,同一个进程内的线程共享进程的资源；
3. 线程是处理器调度的基本单位,但进程不是；
4. 二者均可并发执行。

## 协程
协程其实可以认为是比线程更小的执行单元。为啥说他是一个执行单元，因为他自带CPU上下文。

简单来说可以认为协程是线程里不同的函数，这些函数之间可以相互快速切换，协程和用户态线程非常接近，用户态线程之间的切换不需要陷入内核，但部分操作系统中用户态线程的切换需要内核态线程的辅助。

协程切换：协程拥有自己的寄存器上下文和栈。协程调度切换时，将寄存器上下文和栈保存到其他地方，在切回来的时候，恢复先前保存的寄存器上下文和栈。

## 相关链接文章

[字节流动 - 线程、进程、协程](https://mp.weixin.qq.com/s/13UU-BEbU-vth2JWV6bxJA)